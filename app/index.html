<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>Manage your CDs</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css styles/vendor.css -->
        <!-- bower:css -->

        <!-- endbower -->
        <!-- endbuild -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="bower_components/modernizr/modernizr.js"></script>
        <!-- endbuild -->

    </head>
    <body>
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


        <div class="container">
            <div class="header">
                <a href="#" class="btn btn-primary btn-large  pull-right" data-bind="click: clear, visible: cds().length > 0">Clear your collection</a>
                <ul class="nav nav-pills pull-right">
                    <!-- @todo - make more pages -->
                    <!-- <li class="active"><a href="#">Home</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li> -->
                </ul>
                <h3 class="text-muted">Manage your CDs</h3>
            </div>

            <div class="jumbotron">
                <h1>Hi there,</h1>
                <p class="lead">I bet you want to manage your music.</p>
                <p><a class="btn btn-lg btn-success" data-bind="click: preloadCds, visible: cds().length == 0">Pre Load some Music</a></p>
            </div>

            <div class="row">
                CD Collection <span data-bind="text: '('+cds().length+')', visible: cds().length > 0"></span>
            </div>

            <table class="table">
                <thead><tr>
                    <th>Album</th><th>Artist</th><th>Release Date</th><th></th>
                </tr></thead>
                <tbody data-bind="foreach: cds">
                    <tr>
                        <td><div data-bind="html: album, click: $root.cdForm.updateCd"></div></td>
                        <td><div data-bind="html: artist, click: $root.cdForm.updateCd"></div></td>
                        <td><div data-bind="html: releaseDate, click: $root.cdForm.updateCd"></div></td>
                        <td><a href="#" data-bind="click: $root.removeCd">Remove</a></td>
                    </tr>    
                </tbody>
            </table>

            <div class="footer">
                <p>♥ with help from Yeoman</p>
            </div>

            <a data-toggle="modal" href="#windowTitleDialog" class="btn btn-primary btn-large" data-bind="click: cdForm.resetForm">Add a CD to your collection</a>

        </div>

        <div id="windowTitleDialog" class="modal fade">
            <div class="modal-dialog">
                <form>
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" data-bind="text: cdForm.formTitle"></h4>
                        </div>
                        <!-- @todo Get these inputs to be readonly once clicked so you can't edit in input while modal form is up -->
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="album">Album:</label>
                                <input type="text" class="form-control" id="album" data-bind="value: cdForm.albumInput" /></td>
                            </div>
                            <div class="form-group">
                                <label for="artist">Artist:</label>
                                <input type="text" class="form-control" id="artist" data-bind="value: cdForm.artistInput" /></td>
                            </div>
                            <div class="form-group">
                                <label for="releaseDate">Release Date:</label>
                                <select class="form-control" id="releaseDate" data-bind="options: releaseYears,
                                                                                         value: cdForm.releaseDateInput,
                                                                                         optionsCaption: 'Choose a year'"></select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" data-bind="click: cdForm.hide">Close</button>
                            <button data-bind="click: addCd, visible: cdForm.save" type="button" id="save-cd" class="btn btn-lg">Save</button>
                            <button data-bind="click: cdForm.saveUpdate, visible: cdForm.update" type="button" id="update-cd" class="btn btn-lg">Update</button>
                        </div>
                    </div><!-- /.modal-content -->
                </form>
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

        <!-- build:js({app,.tmp}) scripts/main.js -->
        <script data-main="scripts/main" src="bower_components/requirejs/require.js"></script>
        <!-- endbuild -->
</body>
</html>
